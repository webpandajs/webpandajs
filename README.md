# webpanda.js ğŸ‘‹

webpanda.js æ˜¯é¢å‘å‰åç«¯åˆ†ç¦»ã€è§†å›¾ä¸æ•°æ®åˆ†ç¦», åŸºäº ECMAScript 5 ç‰¹æ€§çš„å•é¡µåº”ç”¨ (SPA) æ¡†æ¶ã€‚


## ä»‹ç»

æœ¬è´¨ä¸Šï¼Œwebpanda.js æ˜¯ä¸€ä¸ªç”¨äºç°ä»£ JavaScript å•é¡µåº”ç”¨ç¨‹åºçš„éæ„å»ºã€ä¸æ‰“åŒ…å¼€å‘ç¯å¢ƒæ¡†æ¶ã€‚

åœ¨æµè§ˆå™¨æ”¯æŒ ES æ¨¡å—ä¹‹å‰ï¼ŒJavaScript å¹¶æ²¡æœ‰æä¾›åŸç”Ÿæœºåˆ¶è®©å¼€å‘è€…ä»¥æ¨¡å—åŒ–çš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚éšç€å‰ç«¯æŠ€æœ¯å‘å±•ä¸åˆ›æ–°ï¼Œåœ¨å‰ç«¯æ¨¡å—åŒ–å‘å–Šå£°ä¹‹ä¸­åˆ®èµ·äº†ä¸€é˜µé£ï¼Œäºæ˜¯æœ‰äº† `Webpack`ã€`Vite`ã€`Turbopack` åŠ `Snowpack` ç­‰å‰ç«¯æ„å»ºå·¥å…·ï¼Œæ”¹å˜äº†å‰ç«¯å¼€å‘è€…çš„å¼€å‘æ–¹å¼ï¼Œè®©å‰ç«¯å¼€å‘è¿›å…¥äº†æ¨¡å—åŒ–æ—¶ä»£ã€‚

æ„å»ºå·¥å…·æ‰“åŒ…å…è®¸å‰ç«¯å¼€å‘è€…ä½¿ç”¨æ¨¡å—åŒ–çš„æ–¹å¼ç»„ç»‡å’Œç®¡ç†å‰ç«¯ä»£ç ï¼Œå°†ä»£ç æ‹†åˆ†æˆå¤šä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç»“æ„åŒ–ã€æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚ç„¶è€Œï¼Œæ„å»ºçš„åº”ç”¨è¶Šæ¥è¶Šå¤§ï¼Œéœ€è¦å¤„ç†çš„JavaScript ä»£ç é‡è®©æ„å»ºå·¥å…·å‡ºç°äº†æ€§èƒ½ç“¶é¢ˆã€‚å¦‚ç¼“æ…¢çš„æœåŠ¡å™¨å¯åŠ¨ï¼Œä»¥åŠå°±ç®—æœ‰äº†æ¨¡å—çƒ­æ›¿æ¢ï¼Œç…§æ ·ä»£ç ä¿®æ”¹è¿Ÿé’æ›´æ–°ç­‰æƒ…å†µï¼Œä¸¥é‡å½±å“å‰ç«¯å¼€å‘è€…çš„å¼€å‘æ•ˆç‡å’Œä½“éªŒã€‚

æ—¶è¿‡å¢ƒè¿ï¼Œå¦‚ä»Šæµè§ˆå™¨å·²ç»å¼€å§‹åŸç”Ÿæ”¯æŒ ES æ¨¡å—äº†ï¼Œä¸€äº›æ–°çš„æ„å»ºå·¥å…·ä¹Ÿåˆ©ç”¨äº†è¿™ç§æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ç”Ÿæ€æ¥è§£å†³ç¼“æ…¢çš„æœåŠ¡å™¨å¯åŠ¨ã€è¿Ÿé’æ›´æ–°ç­‰é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œå‰ç«¯æŠ€æœ¯åˆå¼€å§‹å‘éæ„å»ºã€ä¸æ‰“åŒ…çš„åŸç”Ÿæ–¹å‘å‘å±•äº†ã€‚


## å¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒ


ä¸ºä»€ä¹ˆå¼€å‘ç¯å¢ƒä¸è¦æ‰“åŒ…ï¼Ÿæ¯”å¦‚åœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œä»£ç ç»è¿‡å‹ç¼©ï¼Œç”±äºæ‰“åŒ…å‰åçš„ä»£ç ä¹‹é—´å·®å¼‚æ€§è¿‡å¤§ï¼Œé€ æˆæ— æ³•debugçš„é—®é¢˜ã€‚ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ï¼Œæ— å¥ˆä½¿ç”¨ `SourceMap` ä¿¡æ¯æ–‡ä»¶å‚¨å­˜ä»£ç è½¬æ¢å‰åçš„å¯¹åº”ä½ç½®ä¿¡æ¯â€¦â€¦

ç°ä»£ JavaScript åœ¨å¼€å‘ç¯å¢ƒä¸‹å¢åŠ ä¸€ä¸ªæ„å»ºåœºæ™¯ï¼Œæœ¬èº«å°±æ˜¯ç¹ççš„ã€‚ç”šè‡³æœ‰äº›æ„å»ºå·¥å…·å¼€å‘ç¯å¢ƒæ˜¯ä¸€å¥—ï¼Œç”Ÿäº§ç¯å¢ƒæ˜¯å¦ä¸€å¥—ï¼Œé€ æˆå¼€å‘ä¸ç”Ÿäº§çš„ç¯å¢ƒä¸ä¸€è‡´ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹å‡ºç°è«åå…¶å¦™çš„é”™è¯¯ã€‚


å½“ç„¶ï¼Œwebpanda.js æ¡†æ¶è®¤ä¸ºåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹çš„ JavaScript ä»£ç ä»ç„¶éœ€è¦æ‰“åŒ…ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ä»¥è·å¾—æœ€ä½³çš„åŠ è½½æ€§èƒ½ã€‚ä½†æ‰“åŒ…ä¹Ÿä»…ä»…æ˜¯ä»£ç å‹ç¼©ã€éƒ¨åˆ†æ–‡ä»¶ç›®å½•ç»“æ„è°ƒæ•´ç­‰ï¼Œ100%ä¿è¯ä¸ä¼šé€ æˆå¼€å‘ä¸ç”Ÿäº§çš„ç¯å¢ƒä¸ä¸€è‡´çš„æƒ…å†µã€‚

webpanda.js æ˜¯åŸºäº ECMAScript 5 ç‰¹æ€§çš„å•é¡µåº”ç”¨æ¡†æ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¦æ±‚å‰ç«¯å¼€å‘è€…å¿…é¡»æŒ‰ç…§ ECMAScript 5 (ES5) è§„èŒƒå»å¼€å‘ä»£ç ã€‚ä½†æ‰“åŒ…è„šæœ¬æ˜¯å¯ä»¥ç”±å‰ç«¯å¼€å‘è€…è‡ªè¡Œå‡çº§çš„ï¼Œåªè¦æ‰“åŒ…è„šæœ¬æ”¯æŒES6è½¬æ¢ES5ï¼Œåªè¦å¼€å‘ç¯å¢ƒçš„æµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼Œwebpanda.js ä¸é™åˆ¶ JavaScript ä»£ç ä»¥ä½•ç§è§„èŒƒå»å¼€å‘ã€‚


## ä¸ºä»€ä¹ˆé€‰æ‹© webpanda.js

æƒ³è¦ç†è§£ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ webpanda.jsï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸‹å†å²ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦æ„å»ºå·¥å…·ã€‚

åœ¨æ„å»ºå·¥å…·å‡ºç°ä¹‹å‰ï¼Œåœ¨æµè§ˆå™¨ä¸­è¿è¡ŒJavaScriptï¼Œæ˜¯é€šè¿‡å¼•ç”¨ä¸€äº›è„šæœ¬æ¥åˆ†åˆ«å­˜æ”¾æ¯ä¸ªåŠŸèƒ½ã€‚æŸäº›æ„å»ºå·¥å…·è¯´æ­¤æ–¹æ¡ˆå¾ˆéš¾æ‰©å±•ï¼Œå› ä¸ºåŠ è½½å¤ªå¤šè„šæœ¬ä¼šå¯¼è‡´ç½‘ç»œç“¶é¢ˆã€‚è¿™ç§è¯´æ³•å·²ç»è¿‡æ—¶äº†ï¼Œåœ¨ HTTP/2 ä¸­æœ‰äº†å¤šè·¯å¤ç”¨ï¼Œä»£æ›¿åŸæ¥çš„åºåˆ—å’Œé˜»å¡æœºåˆ¶ï¼Œæ‰€æœ‰è¯·æ±‚çš„éƒ½æ˜¯é€šè¿‡ä¸€ä¸ª TCP è¿æ¥å¹¶å‘å®Œæˆã€‚åŒä¸ªåŸŸååªéœ€è¦å ç”¨ä¸€ä¸ª TCP è¿æ¥ï¼Œæ¶ˆé™¤äº†å› å¤šä¸ª TCP è¿æ¥è€Œå¸¦æ¥çš„å»¶æ—¶å’Œå†…å­˜æ¶ˆè€—ã€‚

æŸäº›æ„å»ºå·¥å…·è¿˜è¯´äº†ï¼ŒåŸç”Ÿçš„ .js æ–‡ä»¶ï¼Œè¿˜ä¼šå¯¼è‡´ä½œç”¨åŸŸã€æ–‡ä»¶å¤§å°ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§æ–¹é¢çš„é—®é¢˜ã€‚è¿™ç§è¯´æ³•å·²ç»è¿‡æ—¶äº†ï¼Œwebpanda.js è®©å‰ç«¯åœ¨å¼€å‘ç¯å¢ƒä¸­ä¸æ„å»ºã€ä¸æ‰“åŒ…ã€ä¸ç¼–è¯‘ï¼Œè§£å†³åŸç”Ÿ JavaScript æ¨¡å—åŒ–å¼€å‘ä¸€åˆ‡é—®é¢˜ã€‚

webpanda.js å°†æ”¹å˜å‰ç«¯å¼€å‘è€…çš„å¼€å‘æ–¹å¼ï¼Œè¿”ç’å½’çœŸï¼Œé€ƒç¦»ç¹ççš„æ„å»ºå·¥å…·ï¼Œè®©å‰ç«¯å¼€å‘çš„é‡å¿ƒå›å½’åˆ°ä¸šåŠ¡ã€‚


## æµè§ˆå™¨æ”¯æŒ

webpanda.js æ”¯æŒæ‰€æœ‰å…¼å®¹ ECMAScript 5 çš„æµè§ˆå™¨ã€‚

> ä¸æ”¯æŒ IE8 åŠä»¥ä¸‹ç‰ˆæœ¬IEæµè§ˆå™¨ï¼Œä½†æ˜¯å¾®è½¯åœæ­¢æ”¯æŒIEæµè§ˆå™¨, æ‰€ä»¥webpanda.jsä¹Ÿä¼šåœ¨æœªæ¥é€æ­¥åˆ é™¤å…¶å…¼å®¹çš„ä»£ç ã€‚






# èµ·æ­¥


## å®‰è£…

webpanda.js å®‰è£…éå¸¸ç®€å•ï¼Œç›´æ¥ä¸‹è½½å¹¶ç”¨ `<script>` æ ‡ç­¾å¼•å…¥ï¼Œä¼šè¢«æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€å˜é‡ `window.webpanda`ã€‚

```html
<script type="text/javascript" src="/library/webpanda/webpanda.min.js"></script>
```

ä¹Ÿå¯ä»¥ç›´æ¥å…‹éš†ä¸€ä»½æ¡†æ¶é¡¹ç›®ä»£ç ï¼š

```shell
git clone git@github.com:webpandajs/webpandajs.git
```




## å¤šè¯­è¨€

ç›®å‰ webpanda.js çš„é»˜è®¤æ–‡æ¡ˆè¯­è¨€æ˜¯ä¸­æ–‡ç®€ä½“ï¼Œå¯ä»¥å¼•å…¥ä¸‹é¢çš„è¯­è¨€æ–¹æ¡ˆï¼š

```html
<!-- è‹±è¯­ -->
<script src="/library/webpanda/language/en_US.js"></script>
<!-- ä¸­æ–‡ç®€ä½“ -->
<script src="/library/webpanda/language/zh_CN.js"></script>
<!-- ä¸­æ–‡ç¹ä½“ -->
<script src="/library/webpanda/language/zh_HK.js"></script>
```

ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¯­è¨€æ–¹æ¡ˆï¼š

```javascript
webpanda.language ({
    // ......
});
```



## vscode å®‰è£… Live Server æ‰©å±•, æ­å»ºæœ¬åœ°å¼€å‘ç¯å¢ƒ

åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¦‚æœä½¿ç”¨ vscode ç¼–è¾‘å™¨ï¼Œéœ€è¦ä¸€ä¸ªæœåŠ¡å™¨ç¯å¢ƒã€‚è¿™é‡Œæ¨è `Live Server` æ‰©å±•ã€‚

åœ¨æ‰©å±•è®¾ç½®ä¸­ï¼Œè®¾ç½® `liveServer.settings.file` ï¼š

```shell
/index.html
```

> When set, serve this file (server root relative) for every 404 (useful for single-page applications)  
> è®¾ç½®åï¼Œä¸ºæ¯ä¸ª404(å¯¹äºå•é¡µé¢åº”ç”¨ç¨‹åºå¾ˆæœ‰ç”¨)æä¾›æ­¤æ–‡ä»¶(ç›¸å¯¹äºæœåŠ¡å™¨æ ¹)


## ç›®å½•ç»“æ„

```shell
/dist/              #æ‰“åŒ…åçš„ç›®å½•
/framework/         #æ¡†æ¶ã€æ‰“åŒ…è„šæœ¬
/library/           #ç¬¬ä¸‰æ–¹ä»£ç åº“
/src/               #ä¸šåŠ¡æºä»£ç 
/src/assets/        #cssã€lessã€imgç­‰èµ„æºæ–‡ä»¶
/src/component/     #ç»„ä»¶æ•°æ®å·¥ç¨‹
/src/page/          #é¡µé¢æ•°æ®å·¥ç¨‹
/src/server/        #æœåŠ¡ç«¯æ¥å£æ•°æ®å·¥ç¨‹
/src/main.js        #åˆå§‹åŒ–æ–‡ä»¶
/src/router.js      #è·¯ç”±æ•°æ®å·¥ç¨‹æ–‡ä»¶
/favicon.ico        #ç½‘ç«™favicon.ico
/index.html         #ç½‘ç«™å…¥å£
/webpanda.config.js #æ‰“åŒ…é…ç½®
```

> `/src/` ä¸‹çš„å­ç›®å½•æ˜¯å¯ä»¥å¼€å‘è€…è‡ªè¡Œè®¾è®¡çš„ï¼Œå¹¶ä¸æ˜¯å¼ºåˆ¶è¦æ±‚è·Ÿä¸Šé¢ä¸€è‡´ã€‚  
> `/src/router.js` è·¯ç”±æ•°æ®å·¥ç¨‹æ–‡ä»¶ä¹Ÿæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ã€‚


## ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…

ä½¿ç”¨ NPM æ‰“åŒ…:

```shell
npm run build
```

### package.json

package.json ç¤ºä¾‹å†…å®¹ï¼š

```json
{
  "name": "...",
  "version": "1.0.0",
  "description": "...",
  "scripts": {
    "build": "node framework/script/build.js"
  },
  "author": "...",
  "devDependencies": {
    "console-color-node": "^1.0.1",
    "cssmin": "^0.4.3",
    "html-minifier": "^4.0.0",
    "uglify-js": "^3.17.4"
  }
}
```


### webpanda.config.js

webpanda.config.js ç¤ºä¾‹å†…å®¹ï¼š

```javascript
module.exports = {
    // å¿½ç•¥é…ç½®
    ignore: {
        // å¿½ç•¥æ‰©å±•å
        extension: {
            // åªå¯¹srcç›®å½•ä»£ç æœ‰æ•ˆ
            src: [".less"],
            // åªå¯¹libraryç›®å½•ä»£ç æœ‰æ•ˆ
            library: [".less", ".scss"]
        },
        // å¿½ç•¥åˆ—è¡¨ã€è·¯å¾„
        path: [
            "library/less.js",
            "library/test/",
        ],
    },

    // å‹ç¼©é…ç½®ï¼Œåªå¯¹srcç›®å½•æœ‰æ•ˆ 
    minify: {
        // ä¸å‹ç¼©çš„ç›®å½•åˆ—è¡¨
        exclude: ["src/test"],
        // htmlå‹ç¼©é…ç½®
        htmlminifier: {
            options: {
                keepClosingSlash: true,// åœ¨å•ä¾‹å…ƒç´ ä¸Šä¿ç•™å°¾éƒ¨æ–œæ 
                caseSensitive: true,// ä»¥åŒºåˆ†å¤§å°å†™çš„æ–¹å¼å¤„ç†å±æ€§ï¼ˆå¯¹äºè‡ªå®šä¹‰ HTML æ ‡è®°å¾ˆæœ‰ç”¨ï¼‰
                collapseWhitespace: true, // åˆ é™¤htmlé‡Œçš„ç©ºæ ¼ è¾¾åˆ°htmlçš„å‹ç¼©
                // removeAttributeQuotes: true, // å°½å¯èƒ½åˆ é™¤htmlæ ‡ç­¾é‡Œçš„åŒå¼•å· è¾¾åˆ°htmlçš„å‹ç¼©
                removeComments: true, // åˆ é™¤htmlä¸­çš„æ³¨é‡Š
                removeCommentsFromCDATA: true, // ä»è„šæœ¬å’Œæ ·å¼åˆ é™¤çš„æ³¨é‡Š
                minifyCSS: true, // å‹ç¼©css
                minifyJS: true, // å‹ç¼©js
            },
        },
        // jsä»£ç å‹ç¼©é…ç½®
        uglifyjs: {
            options: {
                warnings: true,
                mangle: true,
                ie: true,
                webkit: true,
            }
        },
    },
};
```


## index.html

```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <title>webpanda.js - é¢å‘å‰åç«¯åˆ†ç¦»ã€è§†å›¾ä¸æ•°æ®åˆ†ç¦», åŸºäº ECMAScript 5 ç‰¹æ€§çš„å•é¡µåº”ç”¨ (SPA) æ¡†æ¶ã€‚</title>
    <meta name="keywords" content="">
    <meta name="description" content="">

    <!-- å¼•å…¥æ¡†æ¶ä»£ç  -->
    <script type="text/javascript" src="/library/webpanda/webpanda.min.js"></script>
    <!-- å¼•å…¥ ajax æ’ä»¶ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢æˆå…¶ä»–ç¬¬ä¸‰æ–¹æˆ–è€…å¼€å‘è€…è‡ªå·±é€ è½®å­éƒ½å¯ä»¥ -->
    <script type="text/javascript" src="/library/webpanda/webpanda-ajax.min.js"></script>
    <!-- å¼•å…¥ cssã€js æ–‡ä»¶åŠ¨æ€åŒ…å«æ’ä»¶ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢æˆå…¶ä»–ç¬¬ä¸‰æ–¹æˆ–è€…å¼€å‘è€…è‡ªå·±é€ è½®å­éƒ½å¯ä»¥ -->
    <script type="text/javascript" src="/library/webpanda/webpanda-require.min.js"></script>

    <!-- è·¯ç”±æ•°æ®å·¥ç¨‹æ–‡ä»¶ -->
    <script type="text/javascript" src="/src/router.js"></script>
    <!-- åˆå§‹åŒ–æ–‡ä»¶ -->
    <script type="text/javascript" src="/src/main.js"></script>
</head>
<body>
    <noscript><strong>Sorry, Webpandajs will not work properly without JavaScript support. Enable JavaScript for browsers and continue.</strong></noscript>
</body>
</html>
```


# æ¦‚å¿µ


## å±€éƒ¨æ•°æ®å·¥ç¨‹

å±€éƒ¨æ¸²æŸ“ã€å±€éƒ¨äº‹ä»¶ä½¿ç”¨

## å…¨å±€æ•°æ®å·¥ç¨‹

å…¨å±€æ¸²æŸ“ã€å…¨å±€äº‹ä»¶ä½¿ç”¨


## å•ä¾‹æ¨¡å¼

å› ä¸ºæ˜¯å•ä¾‹æ¨¡å¼ï¼Œæ‰€ä»¥æ•°æ®å·¥ç¨‹å¤šæ¬¡æ¸²æŸ“å†åŒä¸€ä¸ªé¡µé¢ä¸Šéœ€è¦è¿›è¡Œæ‹·è´ã€‚

## å…¨å±€æ•°æ®æµ






# æ•°æ®å·¥ç¨‹å®šä¹‰



# æ•°æ®å·¥ç¨‹å¯¹è±¡





## é¡µé¢æ•°æ®å·¥ç¨‹




æ‰§è¡Œçš„ä¼˜å…ˆçº§ï¼š
å…ˆæ‰§è¡Œé¡µé¢æ•°æ®å·¥ç¨‹äº‹ä»¶ï¼Œå†æ‰§è¡Œå±€éƒ¨æ•°æ®å·¥ç¨‹äº‹ä»¶ï¼Œæœ€åæ‰§è¡Œå…¨å±€æ•°æ®å·¥ç¨‹äº‹ä»¶
this.$.event ();


# æ¨¡æ¿è¯­æ³•



# æ¨¡å—åŠŸèƒ½





